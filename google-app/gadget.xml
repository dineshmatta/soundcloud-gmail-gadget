<?xml version="1.0" encoding="UTF-8"?>
<Module>
  <ModulePrefs
    title="SoundCloud"
    title_url="http://soundcloud.com/"
    description="Sounds from this email"
    height="20"
    author="Eric Wahlforss, Tobias Bielohlawek"
    author_email="eric@soundcloud.com, tobi@soundcloud.com"
    author_location="Berlin, Germany">

    <Require feature="dynamic-height"/>
    <Require feature="google.contentmatch">
      <Param name="extractors">
        google.com:HttpLinkExtractor
      </Param>
    </Require>
  </ModulePrefs>
  <Content type="html" view="card">
	<![CDATA[
	      <!-- Start with Single Sign-On -->
	      <script type="text/javascript" src="https://example.com/gadgets/sso.js"></script>
	      <script type="text/javascript">

	        <!-- Fetch the array of content matches. -->
	        matches = $wnd.google.contentmatch.getContentMatches();
	        var matchList = document.createElement('UL');
	        var listItem;
	        var extractedText;

	        <!-- Iterate through the array and display output for each match. -->
	        for (var match in matches) {
	          for (var key in matches[match]) {
	            listItem = document.createElement('LI');
	            extractedText = document.createTextNode(key + ": " + matches[match][key]);
	            listItem.appendChild(extractedText);
	            matchList.appendChild(listItem);
	          }
	        }
	        document.body.appendChild(matchList);
	        gadgets.window.adjustHeight(100);
	      </script>
	    ]]>    
  </Content>
</Module>
